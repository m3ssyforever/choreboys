<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chore Boys</title>
    
    <!-- 1. Include Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- 2. Tailwind Configuration for Custom Colors and Scale -->
    <script>
        tailwind.config = {
            theme: {
                fontFamily: {
                    sans: ['Arial', 'sans-serif'],
                },
                screens: {
                    'sm': '640px',
                    'md': '768px',
                    'lg': '968px',
                    'xl': '1280px',
                },
                extend: {
                    colors: {
                        'custom-cyan': '#00D4FF',
                        'custom-orange-red': '#FF4500',
                        'custom-success': '#177317',
                        'custom-error': '#d9534f',
                        'custom-loading': '#f0ad4e',
                    },
                    scale: {
                        '98': '0.98',
                    }
                }
            }
        }
    </script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html {
            height: 100%;
        }
        body {
            min-height: 100vh;
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
            transition: background-image 1s ease-in-out;
        }
        .section-block.expanded .section-content {
            display: block;
        }
        .contact-form button:active {
            transform: scale(0.98);
        }
    </style>
</head>
<body class="font-sans">
    
    <header class="w-full bg-black text-white py-8 text-center shadow-none">
        <div class="header-content w-11/12 max-w-5xl mx-auto">
            <div class="header-title text-6xl md:text-[4rem] font-black tracking-widest mb-1">CHORE BOYS</div>
            <div class="header-slogan text-xl md:text-base font-light opacity-80 max-w-xl mx-auto">
                With a combined 100 years of experience, Chore Boys are the only choice for all of your lifestyle improvement projects.
            </div>
        </div>
    </header>
    
    <div class="container relative z-10 w-11/12 max-w-5xl mx-auto pt-16 pb-12">
        <!-- Upcoming Shows -->
        <div class="section-block w-full mb-6">
            <div class="section-header bg-black text-white text-3xl sm:text-2xl font-light tracking-wider text-center py-10 cursor-pointer transition-colors duration-300 hover:bg-gray-700" onclick="toggleSection(this)">
                UPCOMING SHOWS
            </div>
            <div class="section-content hidden shows-section-content bg-custom-cyan text-black">
                <div class="text-content p-8">
                    <!-- UPDATED SHOW LIST -->
                    <ul class="show-list list-none p-0 m-0 text-center">
                        <li class="py-4 border-b border-black/20 mb-4 text-xl leading-relaxed">
                            <strong class="font-bold">OCTOBER 24</strong><br>
                            Pull a Muscle with Boy Toy and Madspinnz - Poor Boys
                        </li>
                        <li class="py-4 border-b border-black/20 mb-4 text-xl leading-relaxed">
                            <strong class="font-bold">OCTOBER 31</strong><br>
                            Nightcrawlers Halloween Dance party with KOKOKO! and Brookiecita - Saturn Bar
                        </li>
                        <li class="py-4 border-b border-black/20 mb-4 text-xl leading-relaxed">
                            <strong class="font-bold">NOVEMBER 14</strong><br>
                            Get the Worm early party - The Domino Lounge
                        </li>
                        <li class="py-4 border-b border-black/20 mb-4 text-xl leading-relaxed">
                            <strong class="font-bold">NOVEMBER 14</strong><br>
                            Delish da Goddess Birthday Party late party - Family Dollar
                        </li>
                        <li class="py-4 border-b border-black/20 mb-4 text-xl leading-relaxed last:border-b-0 last:mb-0">
                            <strong class="font-bold">DECEMBER 31</strong><br>
                            New Years Eve with Brookiecita - Saturn Bar
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Mixes -->
        <div class="section-block w-full mb-6">
            <div class="section-header bg-black text-white text-3xl sm:text-2xl font-light tracking-wider text-center py-10 cursor-pointer transition-colors duration-300 hover:bg-gray-700" onclick="toggleSection(this)">
                MIXES
            </div>
            <div class="section-content hidden bg-white">
                <div class="mixes-grid grid grid-cols-3 gap-0 w-full bg-gray-200">
                    <div class="mix-item w-full h-[400px]">
                        <iframe width="100%" height="100%" src="https://player-widget.mixcloud.com/widget/iframe/?feed=%2Fchoreboys%2Fchoreplay-mini-mix-1-150bpm%2F" frameborder="0" allow="encrypted-media; fullscreen; autoplay; idle-detection; speaker-selection; web-share;" class="w-full h-full border-none block"></iframe>
                    </div>
                    <div class="mix-item w-full h-[400px]">
                        <iframe width="100%" height="100%" src="https://player-widget.mixcloud.com/widget/iframe/?feed=%2Fchoreboys%2Fchoreplay-mini-mix-2-92bpm%2F" frameborder="0" allow="encrypted-media; fullscreen; autoplay; idle-detection; speaker-selection; web-share;" class="w-full h-full border-none block"></iframe>
                    </div>
                    <div class="mix-item w-full h-[400px]">
                        <iframe width="100%" height="100%" src="https://player-widget.mixcloud.com/widget/iframe/?feed=%2Fchoreboys%2Fchore-boys-mini-mix-3-live%2F" frameborder="0" allow="encrypted-media; fullscreen; autoplay; idle-detection; speaker-selection; web-share;" class="w-full h-full border-none block"></iframe>
                    </div>
                </div>
            </div>
        </div>

        <!-- Contact -->
        <div class="section-block w-full mb-6">
            <div class="section-header bg-black text-white text-3xl sm:text-2xl font-light tracking-wider text-center py-10 cursor-pointer transition-colors duration-300 hover:bg-gray-700" onclick="toggleSection(this)">
                CONTACT
            </div>
            <div class="section-content hidden contact-section-content bg-custom-orange-red text-white">
                <div class="text-content p-8">
                    <form id="contactForm" class="contact-form flex flex-col space-y-6 max-w-xl mx-auto" action="https://script.google.com/macros/s/AKfycbwP_AfQP4XYp4Nz3B169d_YcheFAgbXh6aOQ-61k6fwntjuobAgcX2F613w0BLvJdnzDA/exec" method="POST">
                        <input type="text" placeholder="Your Name" name="Name" required class="p-4 border border-gray-300 rounded text-base w-full transition-colors bg-white/90 text-gray-800 border-2 border-white focus:border-black focus:outline-none">
                        <input type="email" placeholder="Your Email" name="Email" required class="p-4 border border-gray-300 rounded text-base w-full transition-colors bg-white/90 text-gray-800 border-2 border-white focus:border-black focus:outline-none">
                        <textarea placeholder="Your Message / Booking Inquiry" name="Message" rows="5" required class="p-4 border border-gray-300 rounded text-base w-full transition-colors bg-white/90 text-gray-800 border-2 border-white focus:border-black focus:outline-none resize-y"></textarea>
                        <button type="submit" id="submitButton" class="bg-black text-white py-4 px-8 border-none rounded text-xl font-bold tracking-wider cursor-pointer transition-all duration-300 hover:bg-gray-700">SEND MESSAGE</button>
                    </form>
                    <div id="formStatus" class="form-status text-center text-xl font-bold p-4 rounded mt-4" style="display: none;"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const backgroundImages = [];
        for (let i = 10047; i <= 10125; i++) {
            backgroundImages.push(`https://raw.githubusercontent.com/m3ssyforever/choreboys/main/images/${i}.jpg`);
        }

        function toggleSection(header) {
            const section = header.parentElement;
            const wasExpanded = section.classList.contains('expanded');
            document.querySelectorAll('.section-block').forEach(block => block.classList.remove('expanded'));
            if (!wasExpanded) section.classList.add('expanded');
        }

        function setRandomBackground() {
            const randomImage = backgroundImages[Math.floor(Math.random() * backgroundImages.length)];
            document.body.style.backgroundImage = `url(${randomImage})`;
        }

        setRandomBackground();

        const form = document.getElementById('contactForm');
        const statusMessage = document.getElementById('formStatus');
        const submitButton = document.getElementById('submitButton');
        const MAX_RETRIES = 3;

        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        async function submitFormWithRetry(formURL, formData) {
            for (let attempt = 1; attempt <= MAX_RETRIES; attempt++) {
                try {
                    const response = await fetch(formURL, {
                        method: 'POST',
                        body: formData,
                        mode: 'no-cors'
                    });
                    // Since it's 'no-cors', we assume success if fetch resolves without network error
                    return { success: true, message: 'Success! Your message has been sent and logged.' }; 
                } catch (error) {
                    if (attempt < MAX_RETRIES) {
                        const delay = Math.pow(2, attempt) * 1000;
                        statusMessage.className = 'form-status loading bg-custom-loading text-black';
                        statusMessage.textContent = `Network error on attempt ${attempt + 1}. Retrying in ${delay / 1000}s...`;
                        await sleep(delay);
                        continue;
                    } else {
                        return { success: false, message: 'Connection Error: Could not connect to the form server after multiple attempts. Please check the network and try again later.' };
                    }
                }
            }
            return { success: false, message: 'Submission failed after multiple retries.' };
        }

        form.addEventListener('submit', async function(e) {
            e.preventDefault();
            const formURL = form.action;
            const formData = new FormData(form);
            submitButton.disabled = true;
            submitButton.textContent = 'SENDING...';
            statusMessage.style.display = 'block';
            statusMessage.className = 'form-status loading bg-custom-loading text-black';
            statusMessage.textContent = 'Sending message (attempt 1)...';
            
            const result = await submitFormWithRetry(formURL, formData);
            
            if (result.success) {
                statusMessage.className = 'form-status success bg-custom-success text-white';
                statusMessage.textContent = result.message;
                form.reset();
            } else {
                statusMessage.className = 'form-status error bg-custom-error text-white';
                statusMessage.textContent = result.message;
            }
            
            submitButton.disabled = false;
            submitButton.textContent = 'SEND MESSAGE';
            // Clear status message after 7 seconds
            setTimeout(() => { statusMessage.style.display = 'none'; }, 7000);
        });
    </script>
</body>
</html>
